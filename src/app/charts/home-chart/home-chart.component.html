<div style="display: flex;width: 100%; height: 360px"
  class="justify-content-center align-items-center">
  <ng-container *ngIf="loadingStatus==='complete'">
    <canvas baseChart width="700"
      height="360"
      [datasets]="chartData?.data"
      [labels]="chartData?.labels"
      [options]="lineChartOptions"
      [colors]="lineChartColors"
      [legend]="lineChartLegend"
      [chartType]="lineChartType">
    </canvas>
  </ng-container>
  <div *ngIf="loadingStatus==='error'">Error when trying to get offers</div>
  <div *ngIf="loadingStatus==='loading'"> Loading...</div>
</div>

<div class="col-xs-12 pr-2 pl-4 pt-2 pb-2 ml-2"
  [class.invisible]="loadingStatus==='loading'">
  <form [formGroup]="sliderForm">
    <nouislider [connect]="true" [min]="0" [max]="maxPoint" [step]="stepSize"
      [formControl]="sliderForm.controls.range"></nouislider>
  </form>
</div>

<div class="col-md-12 col-lg-12 col-xl-12 row no-gutters row-bordered
  row-border-light container-m--x">
  <!-- Counters -->
  <div class="col-6 col-xl-3">
    <div class="d-flex align-items-center container-p-x py-4">
      <div class="lnr display-4 text-primary"></div>
      <div class="ml-3">
        <div class="text-muted small">Quantity</div>
        <div class="text-large" *ngIf="loadingStatus==='complete'">{{getSelectedOffers()}}</div>
        <div *ngIf="loadingStatus==='loading'">...</div>
      </div>
    </div>
  </div>
  <div class="col-6 col-xl-3">
    <div class="d-flex align-items-center container-p-x py-4">
      <div class="lnr display-4 text-primary"></div>
      <div class="ml-3">
        <div class="text-muted small">Average Price</div>
        <div class="text-large" *ngIf="loadingStatus==='complete'">£{{averagePrice
          | number:'1.0-2'}}</div>
        <div *ngIf="loadingStatus==='loading'">...</div>
      </div>
    </div>
  </div>
  <div class="col-6 col-xl-3">
    <div class="d-flex align-items-center container-p-x py-4">
      <div class="lnr display-4 text-primary"></div>
      <div class="ml-3">
        <div class="text-muted small">Total Sale Price</div>
        <div class="text-large" *ngIf="loadingStatus==='complete'">£{{totalPrice
          | number:'1.0-2'}}</div>
        <div *ngIf="loadingStatus==='loading'">...</div>
      </div>
    </div>
  </div>
  <div class="col-6 col-xl-3">
    <div class="d-flex align-items-center container-p-x py-4">
      <div class="lnr display-4 text-primary"></div>
      <button type="button" class="btn btn-xl btn-success" (click)="sell()"
        [disabled]="loadingStatus !== 'complete'">Sell</button>
    </div>
  </div>
  <!-- / Counters -->
</div>